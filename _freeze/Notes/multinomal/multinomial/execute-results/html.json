{
  "hash": "f885e36a4f654c559cf54b75e0cfe844",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Multinomial Models\"\nauthor: \"Michael Fehl\"\ndate: 01-26-2026\nformat:\n  html:\n    embed-resources: true\n---\n# Theory\n\n## Specification\n\nA natural question that arises regarding our log-likelihood models for discrete outcomes is model specification. Specifically, how do we select a form for $F_j (x_{i},\\beta)$?\n\nSuppose we have $j=1,2,...,m$ alternatives. Then, we can define the following:\n\n$$U_j = V_j + \\varepsilon_j$$\n\nWhere:\n  \n  * $U_j$ : represents the Utility of choosing alternative j\n  * $V_j$ : the deterministic component (comprised of all the possible regressors)\n  * $\\varepsilon_j$ : random error term -- included since all individuals have the alternatives but possibly different utilities for a choice -- allows for some randomness\n  \nWhen does an individual prefer alternative $j$ to alternative $k$? Simply when they get more utility from $j$ than they do $k$. More formally:\n\n$$\n\\begin{aligned}\n\\mathbb{P}[y_i = j \\mid X_i] &= \\mathbb{P}[U_j \\ge U_k, \\forall_{j \\neq k}] \\\\\n&= \\mathbb{P}[U_k - U_j \\leq 0, \\forall_{j \\neq k}] \\\\ \n&= \\mathbb{P}[\\varepsilon_k - \\varepsilon_j \\leq V_k - V_j, \\forall_{j \\neq k}] \\\\\n&= \\mathbb{P}[\\widetilde{\\varepsilon}_{kj} \\leq -\\widetilde{V}_{kj} , \\forall_{j \\neq k}]\n\\end{aligned}\n$$\n\nNote that in the last step we simply rewrite the difference between alternative $k$ and alternative $j$ as $\\tilde{\\varepsilon_{kj}}$.\n\nLets explore this in a 3-choice model:\n\n$$\n\\begin{aligned}\n\\mathbb{P}[y_i=1 \\mid X_i] = \\mathbb{P}[\\widetilde{\\varepsilon}_{31} \\leq -\\widetilde{V}_{31}, \\widetilde{\\varepsilon}_{21} \\leq -\\widetilde{V}_{21} \\mid X_i]\n\\end{aligned}\n$$\n\nThis is telling us the same thing as (2): the probability that individual $i$ chooses alternative $1$ (given a set of alternatives) is equal to the probability that individual $i$ prefers alternative $1$ to both alternative $3$ as well as alternative $2$. \n\nWe can write this as a joint probability density function of the error terms:\n\n```{=latex}\n\\begin{aligned}\n= \\int_{-\\infty}^{-\\tilde{V}_{31}} \\int_{-\\infty}^{-\\tilde{V}_{21}} f\\left(\\tilde{\\varepsilon}_{31}, \\tilde{\\varepsilon}_{21} \\right) d \\tilde{\\varepsilon}_{21} d \\tilde{\\varepsilon}_{31}\n\\end{aligned}\n```\n\nAlthough this is the correct theoretical specification, an issue arises when we try to compute this for more alternatives. Imagine we have a set of 20 alternatives; we would have a 19-degree integration which would be computationally impossible to evaluate in any finite time period. Thus, we need to simplify this integration somehow.\n\n## Distribution Assumption of the Errors\n\nTo simplify the model, a key assumption we need to make is on the distribution on the error terms; specifically we need to assume that the errors follow a **Type 1 Extreme Value Distribution** (Gumbel Distribution)\n\n$$f\\left(\\varepsilon_j \\right) \\backsim Gumbel\\left( \\mu, \\beta \\right)$$\n\nWhich indirectly makes assumptions on the differenced errors in our example above:\n\n$$f\\left(\\tilde{\\varepsilon}_{21} ,  \\tilde{\\varepsilon}_{31} \\right) \\backsim Gumbel\\left( \\mu, \\beta \\right)$$\n![Figure 1: PDF of a Gumbel Distributed Random Variable](../../images/Gumbel-Density.png)\n\nNote that multinomial probit assumes a normal distribution of these error terms; we will not cover that here.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"C:/Users/T14/7Programming/STATA/02Classes/01EconometricsII/Notes/multinomal\"\n```\n\n\n:::\n:::\n\n\n# Applied\n",
    "supporting": [
      "multinomial_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}